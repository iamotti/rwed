<!DOCTYPE html>
<html>
<head>
  <title>CD breakfast</title>
  <meta charset="utf-8">
  <meta name="description" content="CD breakfast">
  <meta name="author" content="Levente Otti">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>CD breakfast</h1>
    <h2>With R</h2>
    <p>Levente Otti<br/>R Hacker</p>
  </hgroup>
    <a href="https://github.com/iamotti/rwed/zipball/gh-pages" class="example">
     Download
    </a>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>What is R?</h2>
  </hgroup>
  <article data-timings="">
    <ol class = "build incremental">
<li>Functional programming language</li>
<li>Statistical and data mining tool</li>
<li>Data Visualisation tool</li>
<li>Presentation tool (Knitr, Slides, Pdf, Html, ...)</li>
<li>Much more (munging, transformation, sampling, ...)</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Pros</h2>
  </hgroup>
  <article data-timings="">
    <ol class = "build incremental">
<li>Free, open source, avaliable on major platforms</li>
<li>Massive set of packages for statistical modeling, machine learning, ...</li>
<li>Fantastic community (mailing lists, stackoverflow, BURN, ...)</li>
<li>Powerful tools for communicating the results, html, reports, interactive websites...</li>
<li>Strong foundation in functioanal proramming</li>
<li>Powerful IDE for interactive data analysis and statistical programming</li>
<li>Designed to connect to high-performance programming languages like C++ </li>
<li>&quot;Everything&quot; integrated and easy to use =&gt; quick results</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Cons</h2>
  </hgroup>
  <article data-timings="">
    <ol class = "build incremental">
<li>Most R users are not programmers (code is not very elegant, fast or easy to understand)</li>
<li>Focus on result instead of process (lack of VCS, TDD)</li>
<li>Inconsistency is rife across contributed packages, even within base R (20 years)</li>
<li>Many special cases</li>
<li>R is not fast, easy to write terribly slow code with profligate memory usage</li>
<li>All the above is a challenge for us</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Example: Simple Correlation</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">library(ggplot2)
qplot(speed, dist, data = cars) + geom_smooth()
</code></pre>

<p><img src="figure/unnamed-chunk-1.png" alt="plot of chunk unnamed-chunk-1"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Example: Con - read.table</h2>
  </hgroup>
  <article data-timings="">
    <p>Readability, speed, hidden features (first column), ...</p>

<pre><code class="r">read.table &lt;- function (file, header = FALSE, sep = &quot;&quot;, quote = &quot;\&quot;&#39;&quot;, dec = &quot;.&quot;, 
  row.names, col.names, as.is = !stringsAsFactors, na.strings = &quot;NA&quot;, 
  colClasses = NA, nrows = -1, skip = 0, check.names = TRUE, 
  fill = !blank.lines.skip, strip.white = FALSE, blank.lines.skip = TRUE, 
  comment.char = &quot;#&quot;, allowEscapes = FALSE, flush = FALSE, 
  stringsAsFactors = default.stringsAsFactors(), fileEncoding = &quot;&quot;, 
  encoding = &quot;unknown&quot;, text, skipNul = FALSE) 
{
  if (missing(file) &amp;&amp; !missing(text)) {
    file &lt;- textConnection(text, encoding = &quot;UTF-8&quot;)
    encoding &lt;- &quot;UTF-8&quot;
    on.exit(close(file))
  }
  if (is.character(file)) {
    file &lt;- if (nzchar(fileEncoding)) 
      file(file, &quot;rt&quot;, encoding = fileEncoding)
    else file(file, &quot;rt&quot;)
    on.exit(close(file))
  }}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Example: GoogleVis a more complex example</h2>
  </hgroup>
  <article data-timings="">
    <!-- GeoChart generated in R 3.1.0 by googleVis 0.5.2 package -->

<!-- Fri Jun 13 08:15:57 2014 -->

<!-- jsHeader -->

<script type="text/javascript">
 
// jsData 
function gvisDatac1 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
 "Germany",
3 
],
[
 "Brazil",
4 
],
[
 "United States",
5 
],
[
 "France",
4 
],
[
 "Hungary",
3 
],
[
 "India",
2 
],
[
 "Iceland",
1 
],
[
 "Norway",
4 
],
[
 "Spain",
5 
],
[
 "Turkey",
1 
] 
];
data.addColumn('string','Country');
data.addColumn('number','Profit');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDatac2 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
 "Germany",
3 
],
[
 "Brazil",
4 
],
[
 "United States",
5 
],
[
 "France",
4 
],
[
 "Hungary",
3 
],
[
 "India",
2 
],
[
 "Iceland",
1 
],
[
 "Norway",
4 
],
[
 "Spain",
5 
],
[
 "Turkey",
1 
] 
];
data.addColumn('string','Country');
data.addColumn('number','Profit');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDatac3 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
 "Global",
null,
10,
2 
],
[
 "America",
"Global",
2,
4 
],
[
 "Europe",
"Global",
99,
11 
],
[
 "Asia",
"Global",
10,
8 
],
[
 "France",
"Europe",
71,
2 
],
[
 "Sweden",
"Europe",
89,
3 
],
[
 "Germany",
"Europe",
58,
10 
],
[
 "Mexico",
"America",
2,
9 
],
[
 "USA",
"America",
38,
11 
],
[
 "China",
"Asia",
5,
1 
],
[
 "Japan",
"Asia",
48,
11 
] 
];
data.addColumn('string','Region');
data.addColumn('string','Parent');
data.addColumn('number','Val');
data.addColumn('number','Fac');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartc1() {
var data = gvisDatac1();
var options = {};
options["width"] =    250;
options["height"] =    120;

    var chart = new google.visualization.GeoChart(
    document.getElementById('c1')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartc2() {
var data = gvisDatac2();
var options = {};
options["allowHtml"] = true;
options["width"] =    250;
options["height"] =    260;
options["legend"] = "none";

    var chart = new google.visualization.BarChart(
    document.getElementById('c2')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartc3() {
var data = gvisDatac3();
var options = {};
options["width"] =    400;
options["height"] =    380;
options["fontSize"] =     16;
options["minColor"] = "#EDF8FB";
options["midColor"] = "#66C2A4";
options["maxColor"] = "#006D2C";
options["headerHeight"] =     20;
options["fontColor"] = "black";
options["showScale"] = true;

    var chart = new google.visualization.TreeMap(
    document.getElementById('c3')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "geochart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartc1);
})();
function displayChartc1() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartc2);
})();
function displayChartc2() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "treemap";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartc3);
})();
function displayChartc3() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
 

<!-- jsChart -->  

<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartc1"></script>

<!-- jsChart -->  

<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartc2"></script>

<!-- jsChart -->  

<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartc3"></script>
 

<table cellspacing=5>
<tr>
<td>

<table border="0">
<tr>
<td>

<!-- divChart -->
  
<div id="c1"
  style="width: 250px; height: 120px;">
</div>

</td>
</tr>
<tr>
<td>

<!-- divChart -->
  
<div id="c2"
  style="width: 250px; height: 260px;">
</div>

</td>
</tr>
</table>

<p></td>
<td></p>

<!-- divChart -->

<div id="c3"
  style="width: 400px; height: 380px;">
</div>

<p></td>
</tr>
</table></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Example: Song Kata - Test</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">library(testthat)
context (&quot;Complex example&quot;)

input &lt;- &quot;
    15 3
    197812 re_hash
    78906 5_4
    189518 tomorrow_comes_today 
  &quot;

test_that(&quot;output contains the list of zips songs for 14 rows&quot;, {
  output &lt;- as.data.frame(read.table(header = FALSE, col.names=c(&quot;name&quot;), text = &quot;
    19_2000
    clint_eastwood
    tomorrow_comes_today
  &quot;))
  expect_that(get_zips_songs_list(input), equals(output))
})
</code></pre>

<pre><code>## Error: Test failed: &#39;output contains the list of zips songs for 14 rows&#39;
## Not expected: could not find function &quot;get_zips_songs_list&quot;
## 1: expect_that(get_zips_songs_list(input), equals(output)) at &lt;text&gt;:17
## 2: condition(object)
## 3: compare(expected, actual, ...)
## 4: compare.default(expected, actual, ...)
## 5: all.equal(x, y, ...)
## 6: all.equal.default(x, y, ...)
## 7: all.equal.list(target, current, ...)
## 8: attr.all.equal(target, current, ...)
## 9: mode(current).
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Example: Song Kata - Source</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">get_zips_songs_list &lt;- function (input) {
  result_count &lt;- get_number_of_result_list(input)
  data &lt;- read_input_into_dataframe(input)

  data$i &lt;- as.numeric(rownames(data))
  data$qi &lt;- data$fi/(1/data$i)
  head(arrange(data, desc(qi), i) %.% select(name),result_count)
}


get_number_of_result_list &lt;- function (input) {
  as.numeric(as.character(as.data.frame(read.table(header = FALSE, text = input))[1,2]))
}



read_input_into_dataframe &lt;- function(input) {
  as.data.frame(read.table(header = FALSE, text = input, col.names=c(&quot;fi&quot;,&quot;name&quot;), skip=2))
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Example: GoogleVis vs HDS</h2>
  </hgroup>
  <article data-timings="">
    <ol class = "build incremental">
<li>Aggregated by hour (request time, partition, filter count)
<a href="http://127.0.0.1:25127/custom/googleVis/MotionChartID22f6573927b.html">http://127.0.0.1:25127/custom/googleVis/MotionChartID22f6573927b.html</a></li>
<li>Aggregated by day (filter count, time, line chart)
<a href="http://127.0.0.1:25127/custom/googleVis/MotionChartID22f695fd46.html">http://127.0.0.1:25127/custom/googleVis/MotionChartID22f695fd46.html</a></li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Example: Interactivity</h2>
  </hgroup>
  <article data-timings="">
    <ol class = "build incremental">
<li>Interactive web site with Shiny
http://ottawa:5507 (<a href="http://192.168.8.24:5507">http://192.168.8.24:5507</a>)</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>References</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Hadley Wickham - Advanced R Programming (<a href="http://adv-r.had.co.nz/">http://adv-r.had.co.nz/</a>)</li>
<li>Ramnathv - Slidify (<a href="http://slidify.org/">http://slidify.org/</a>)</li>
<li>RStudio - Shiny (<a href="http://shiny.rstudio.com/">http://shiny.rstudio.com/</a>) </li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Questions</h2>
  </hgroup>
  <article data-timings="">
    <p>and Answers</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='What is R?'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Pros'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Cons'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Example: Simple Correlation'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Example: Con - read.table'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Example: GoogleVis a more complex example'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Example: Song Kata - Test'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Example: Song Kata - Source'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Example: GoogleVis vs HDS'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Example: Interactivity'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='References'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Questions'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title=''>
         13
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>